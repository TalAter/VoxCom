//! annyang
//! version : 0.2.0
//! author  : Tal Ater @TalAter
//! license : MIT
//! https://www.TalAter.com/annyang/
(function(){"use strict";var a,b,c,d=window.webkitSpeechRecognition||window.mozSpeechRecognition||window.msSpeechRecognition||window.oSpeechRecognition||window.SpeechRecognition,e=this,f="en-US",g={start:[],error:[],end:[],result:[],resultMatch:[],resultNoMatch:[]},h=!1,i="font-weight: bold; color: #00f;";if(!d)return e.annyang=null,null;var j=/\s*\((.*?)\)\s*/g,k=/(\(\?:[^)]+\))\?/g,l=/(\(\?)?:\w+/g,m=/\*\w+/g,n=/[\-{}\[\]+?.,\\\^$|#]/g,o=function(a){return a=a.replace(n,"\\$&").replace(j,"(?:$1)?").replace(l,function(a,b){return b?a:"([^\\s]+)"}).replace(m,"(.*?)").replace(k,"\\s*$1?\\s*"),new RegExp("^"+a+"$","i")},p=function(a){for(var b=0,c=a.length;c>b;b++)a[b].apply(this)};e.annyang={init:function(j){b&&b.abort&&b.abort(),b=new d,b.maxAlternatives=5,b.continuous=!0,b.lang=f,b.onstart=function(){p(g.start)},b.onerror=function(){p(g.error)},b.onend=function(){p(g.end),c&&e.annyang.start()},b.onresult=function(b){p(g.result);for(var c,d=b.results[b.resultIndex],f=0;f<d.length;f++){c=d[f].transcript.trim(),h&&e.console.log("Speech recognized: %c"+c,i);for(var j=0,k=a.length;k>j;j++){var l=a[j].command.exec(c);if(l){var m=l.slice(1);return h&&(e.console.log("command matched: %c"+a[j].originalPhrase,i),m.length&&e.console.log("with parameters",m)),a[j].callback.apply(this,m),p(g.resultMatch),!0}}}return p(g.resultNoMatch),!1},a=[],this.addCommands(j)},start:function(a){a=a||{},c="undefined"!=typeof a.autoRestart?!!a.autoRestart:!0,b.start()},abort:function(){c=!1,b.abort()},debug:function(a){h=arguments.length>0?!!a:!0},setLanguage:function(a){f=a,b&&b.abort&&(b.lang=a)},addCommands:function(b){var c,d;for(var f in b)if(b.hasOwnProperty(f)){if(c=e[b[f]]||b[f],"function"!=typeof c)continue;d=o(f),a.push({command:d,callback:c,originalPhrase:f})}h&&e.console.log("Commands successfully loaded: %c"+a.length,i)},addCallback:function(a,b){if(void 0!==g[a]){var c=e[b]||b;"function"==typeof c&&g[a].push(c)}}}}).call(this),//! annyang - facebook.com
//! version : 0.1.0
//! author  : Tal Ater @TalAter
//! license : MIT
//! https://www.TalAter.com/annyang/
function(){"use strict";var a=this;if(annyang){var b=function(){a.Chat.toggleSidebar()},c=function(){a.ChatVisibility.goOnline()},d=function(){a.ChatVisibility.goOffline()},e=function(b){a.goURI("/search/more/?q="+b)},f=function(b){a.goURI("/"+b.replace(/[^\w]/gi,""))},g=function(){a.goURI("/")},h=function(){a.goURI("/appcenter")},i=function(){a.goURI("/messages")},j=function(){a.goURI("/friends/requests")},k=function(){a.goURI("/friends")},l=function(){a.goURI("/me")},m=function(){a.goURI("/events/list")},n=function(){a.goURI("/events/calendar")},o=function(b){a.goURI("/"+(b||"me").replace(/[^\w]/gi,"")+"/photos")},p=function(b){a.goURI("/"+(b||"me").replace(/[^\w]/gi,"")+"/photos_albums")},q=function(){history.back()},r=function(a){"up"===a?window.scrollBy(0,-(window.innerHeight-$("pageHead").offsetHeight)):window.scrollBy(0,window.innerHeight-$("pageHead").offsetHeight)};annyang.init({back:q,"go back":q,"go home":g,home:g,news:g,profile:l,me:l,games:h,apps:h,messages:i,inbox:i,mail:i,email:i,events:m,calendar:n,photos:o,"photos *page":o,albums:p,"albums *page":p,"friend requests":j,friends:k,chat:b,"chat online":c,"go online":c,"chat offline":d,"go offline":d,scroll:r,"scroll :direction":r,"find *term":e,"search for *term":e,"search *term":e,"go to *page":f,"go *page":f}),annyang.start()}}.call(this);