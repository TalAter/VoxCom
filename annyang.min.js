/*! annyang v0.2.0 | MIT license | https://www.talater.com/annyang/ */
!function(a,b){"use strict";function c(){m=!1,o.abort()}function d(a,c){p[a]!==b&&"function"==typeof cb&&p[a].push(c)}function e(a){var b;for(b in a)a.hasOwnProperty(b)&&"function"==typeof a[b]&&n.push({callback:a[b],command:f(b),originalPhrase:b});q&&console.log("Commands successfully loaded: "+n.length)}function f(a){return a=a.replace(t,"\\$&").replace(v,"(?:$1)?").replace(u,function(a,b){return b?a:"([^\\s]+)"}).replace(x,"(.*?)").replace(w,"\\s*$1?\\s*"),new RegExp("^"+a+"$","i")}function g(a){return q=a===b?!0:a}function h(a){o&&o.abort(),o=new s,o.continuous=!0,o.lang=r,o.maxAlternatives=5,o.onend=function(){i(p.end),m&&l.start()},o.onerror=function(){i(p.error)},o.onstart=function(){i(p.start)},o.onresult=function(a){var b,c,d,e=0,f=0,g=a.results[a.resultIndex];for(i(p.result),e=0;e<g.length;e++)for(b=g[e].transcript.trim(),q&&console.log("Speech recognized: "+b),f=0;f<n.length;f++)if(d=n[f].command.exec(b))return c=d.slice(1),q&&(console.log("command matched: "+n[f].originalPhrase),c.length&&console.log(" with parameters ",c)),n[f].callback(c),i(p.resultMatch),!0;i(p.resultNoMatch)},n=[],e(a)}function i(a){var b=0,c=a.length;for(b=0;c>b;b++)a[b]()}function j(a){o&&o.abort(),o.lang=a}function k(a){m=a&&a.autoRestart?!!a.autoRestart:!0,o.start()}var l,m,n,o,p={end:[],error:[],result:[],resultMatch:[],resultNoMatch:[],start:[]},q=!1,r="en-US",s=a.webkitSpeechRecognition||a.mozSpeechRecognition||a.msSpeechRecognition||a.oSpeechRecognition||a.SpeechRecognition,t=/[\-{}\[\]+?.,\\\^$|#]/g,u=/(\(\?)?:\w+/g,v=/\s*\((.*?)\)\s*/g,w=/(\(\?:[^)]+\))\?/g,x=/\*\w+/g;l=s?{abort:c,addCallback:d,addCommands:e,debug:g,init:h,setLanguage:j,start:k}:b,a.annyang=l}(window);